import{r as l,a as o,j as e,b as h,V as x}from"./index-DDoEHnfR.js";import{L as m}from"./Layout-Co7qzEc2.js";import{S as j}from"./SideBar-DCoEgSRU.js";const f=()=>{const[c,d]=l.useState([]),i=o();l.useEffect(()=>{(async()=>{var a;try{const n=await h.get("/api/v1/management/hr-attendance");d(((a=n.data)==null?void 0:a.data)||[])}catch(n){console.error(n),x.error("Error fetching attendance")}})()},[]);const s=new Map;c.forEach(t=>{const a=t.employee;a&&!s.has(a._id)&&s.set(a._id,a)});const r=Array.from(s.values());return e.jsx(m,{children:e.jsxs("div",{className:"d-flex w-100",children:[e.jsx(j,{}),e.jsxs("div",{className:"p-3 w-100",children:[e.jsx("h2",{children:"All Employees"}),r.length===0?e.jsx("p",{children:"No employee data available."}):e.jsxs("table",{className:"table table-bordered table-striped mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:t.userName}),e.jsx("td",{children:t.email}),e.jsx("td",{children:t.number}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>i(`/ztsPage/single-attendance/${t._id}`),children:"View Attendance"})})]},t._id))})]})]})]})})};export{f as default};
