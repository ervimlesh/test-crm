import{r as c,a as xe,i as pe,j as e,b as v,V as u}from"./index-DDoEHnfR.js";import{L as be}from"./Layout-Co7qzEc2.js";import{S as je}from"./SideBar-DCoEgSRU.js";import{c as ve}from"./index-DAJh6P76.js";import{D as h}from"./index.es-_Aq59fjB.js";/* empty css                         */import"./clsx-B-dksMZM.js";const Se=()=>{var Y;const z={transactionType:"",itineraryType:"",passengers:"",provider:"",airline:"",airlineImage:"",ship:"",from:"",to:"",departure:"",arrival:"",class:"",alLocator:"",baseFare:"",taxes:"",totalAmount:"",currency:"USD",detailsType:"",firstName:"",middleName:"",lastName:"",gender:"",dob:"",cardType:"",cchName:"",cardNumber:"",cvv:"",dnis:"",expiryMonth:"",expiryYear:"",cardType2:"",cchName2:"",cardNumber2:"",cvv2:"",expiryMonth2:"",expiryYear2:"",billingPhoneNumber:"",contactNumber:"",billingAddress1:"",billingAddress2:"",email:"",city:"",state:"",country:"",zipCode:"",outboundShip:"",inboundShip:"",refundAmount:"",refundRequestedOn:"",refundReason:"",refundStatus:"",futureCreditAmount:"",futureCreditRequestedOn:"",futureCreditValidity:"",futureCreditReason:"",ticketIssueAmount:"",ticketIssueRequestedOn:"",ticketIssueValidity:"",ticketIssueReason:""},[a,d]=c.useState(z),[H,C]=c.useState(!1),[N,P]=c.useState(""),[O,L]=c.useState(""),[V,Z]=c.useState([]),[f,W]=c.useState([]),[w,G]=c.useState([]),[M,J]=c.useState([]),[x,U]=c.useState([]),[F,S]=c.useState([]),[A,T]=c.useState([]),[g,D]=c.useState([]),[K,I]=c.useState(!1),Q="currency",X="class",ee="cardType",se=async()=>{var l;try{const s=await v.get(`/api/v1/dropdown/get-dropdown?type=${Q}`);G((l=s==null?void 0:s.data)==null?void 0:l.items)}catch(s){console.log(s),u.error("Failed to load dropdown items")}},le=async()=>{var l;try{const s=await v.get(`/api/v1/dropdown/get-dropdown?type=${X}`);J((l=s==null?void 0:s.data)==null?void 0:l.items)}catch(s){console.log(s),u.error("Failed to load dropdown items")}},ae=async()=>{var l;try{const s=await v.get(`/api/v1/dropdown/get-dropdown?type=${ee}`);U((l=s==null?void 0:s.data)==null?void 0:l.items)}catch(s){console.log(s),u.error("Failed to load dropdown items")}};c.useEffect(()=>{le(),se(),ae()},[]),c.useEffect(()=>{(async()=>{try{const s=await v.get("/api/v1/ctmFlights/get-provider");s.data.success&&Z(s.data.booking)}catch(s){console.error("Failed to fetch providers",s)}})()},[]),c.useEffect(()=>{(async()=>{try{const s=await v.get("/api/v1/ctmFlights/get-ctmAirline");console.log("resi s",s.data),s.data.success&&W(s.data.booking)}catch(s){console.error("Failed to fetch providers",s)}})()},[]);const t=l=>{const{name:s,value:r}=l.target;if(s==="cardNumber"){const n=ve.number(r);n.card?L(n.card.niceType):L("")}if(s==="passengers"){const n=parseInt(r,10)||0,i=Array.from({length:n},(m,_)=>g[_]||{detailsType:"",firstName:"",middleName:"",lastName:"",gender:"",dob:""});D(i),d({...a,passengers:r,passengerDetails:i})}if(d({...a,[s]:r}),s==="outboundShip"){const n=parseInt(r.replace("outbound",""))||0;S(Array(n).fill({}))}if(s==="inboundShip"){const n=parseInt(r.replace("inbound",""))||0;T(Array(n).fill({}))}},p=(l,s)=>{const{name:r,value:n}=s.target,i=[...g];i[l][r]=n,D(i),d({...a,passengerDetails:i})},o=(l,s,r,n)=>{l==="outbound"?S(i=>{const m=[...i];return m[s]={...m[s],[r]:n},m}):T(i=>{const m=[...i];return m[s]={...m[s],[r]:n},m})},[q,k]=c.useState(1),re=()=>{const l=["transactionType","itineraryType","passengers","provider","outboundShip"];for(const s of l)if(!a[s]){const r=s.replace(/([A-Z])/g," $1").replace(/^./,n=>n.toUpperCase());return u.error(`Please select ${r}`),!1}return a.itineraryType==="roundTrip"&&(!a.inboundShip||!a.inboundShip.toString().trim())?(u.error("Please fill the Inbound Ship"),!1):!0},ne=()=>{k(1)},te=()=>{re()&&k(2)},ie=localStorage.getItem("auth"),R=JSON.parse(ie),oe=(Y=R==null?void 0:R.user)==null?void 0:Y._id,ce=l=>{l.preventDefault(),E()&&C(!0)},E=()=>{const l=["transactionType","itineraryType","passengers","provider","baseFare","taxes","currency","cardType","cchName","cardNumber","cvv","expiryMonth","expiryYear","billingPhoneNumber","contactNumber","billingAddress1","billingAddress2","email","city","dnis","state","country","zipCode","outboundShip"];for(let s of l)if(!a[s]||!a[s].toString().trim())return u.error(`Please fill the ${s.replace(/([A-Z])/g," $1")}`),!1;if(!a.passengerDetails||a.passengerDetails.length===0)return u.error("Please add at least one passenger"),!1;for(let s=0;s<a.passengerDetails.length;s++){const r=a.passengerDetails[s];if(!r.detailsType||!r.firstName||!r.lastName||!r.gender||!r.dob)return u.error(`Please fill all required fields for passenger ${s+1}`),!1}return!(!B(F,"outbound")||a.itineraryType==="roundTrip"&&!B(A,"inbound"))},de=["airline","ship","from","to","departure","arrival","class","alLocator"],B=(l,s)=>{for(let r=0;r<l.length;r++){const n=l[r];for(const i of de)if(!n[i]||n[i].toString().trim()==="")return u.error(`Please fill ${i} for ${s} ship segment ${r+1}`),!1}return!0},y=xe(),b=pe(),me=()=>{if(!E())return;if(!N.trim())return u.error("Please enter remarks."),!1;C(!1);const l={...a,tollFreeNumber:V,outboundSegments:F,inboundSegments:A,remarks:N,refundDetails:{amount:a.refundAmount,refundRequestedOn:a.refundRequestedOn,reasonForRefund:a.refundReason,refundStatus:a.refundStatus},futureCreditDetails:{amount:a.futureCreditAmount,futureCreditRequestedOn:a.futureCreditRequestedOn,futureCreditValidity:a.futureCreditValidity,reasonForFutureCredit:a.futureCreditReason},ticketIssueDetails:{ticketIssueAmount:a.ticketIssueAmount,ticketIssueRequestedOn:a.ticketIssueRequestedOn,ticketIssueValidity:a.ticketIssueValidity,ticketIssueReason:a.ticketIssueReason},agent:oe};console.log("shipDetails",l);try{sessionStorage.setItem("ctm_flightDetails",JSON.stringify({shipDetails:l,step:q}))}catch(s){console.warn("Could not persist shipDetails to sessionStorage",s)}a.transactionType==="cancellationRefund"?y("/astrivion/auth-refund-invoice-preview",{state:{shipDetails:l,isAuthFlow:!1}}):a.transactionType==="cancellationFutureCredit"?y("/astrivion/auth-future-credit-invoice-preview",{state:{shipDetails:l,isAuthFlow:!1}}):l.transactionType==="ticketIssuance"?y("/astrivion/auth-invoice-preview-ticket-issuance",{state:{shipDetails:l,isAuthFlow:!0}}):y("/astrivion/auth-invoice-preview",{state:{shipDetails:l,isAuthFlow:!1}})},ue=()=>{C(!1),P("")};c.useEffect(()=>{console.log("attempting to restore saved ship details"),(()=>{var s;if((s=b.state)!=null&&s.shipDetails){const{shipDetails:r}=b.state;return console.log("restoring from location.state",b.state),d(n=>({...n,...r})),S(r.outboundSegments||[]),T(r.inboundSegments||[]),D(r.passengerDetails||[]),(b.state.step||r.outboundSegments&&r.outboundSegments.length>0||r.inboundSegments&&r.inboundSegments.length>0)&&k(b.state.step||2),!0}return!1})()},[b]);const he=()=>{sessionStorage.removeItem("ctm_shipDetails"),window.location.reload()},_e=()=>{if(["cardType2","cchName2","cardNumber2","cvv2","expiryMonth2","expiryYear2"].filter(r=>{var n;return!((n=a[r])!=null&&n.trim())}).length>0){alert("Please fill all required fields.");return}I(!1)};return e.jsx(be,{children:e.jsxs("main",{class:"crm_all_body d-flex",children:[e.jsx(je,{}),e.jsx("div",{className:"crm_right relative",children:e.jsx("section",{className:"",children:e.jsx("form",{className:"travel_details_cont",children:e.jsx("div",{className:"queryparent",children:q===1?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"header_crm flex_props justify-content-between",children:[e.jsx("p",{className:"crm_title",children:"Traveller Details"}),e.jsxs("button",{className:"refresh_btn",onClick:he,children:[e.jsx("img",{src:"/imgs/refresh-icon.png"}),"Refresh"]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"transactionType",className:"form-label",children:"Transaction Type"}),e.jsxs("select",{name:"transactionType",className:"form-select form_all",value:a.transactionType,onChange:t,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"newBooking",children:"New Booking"}),e.jsx("option",{value:"exchange",children:"Exchange"}),e.jsx("option",{value:"seatAssignments",children:"Seat Assignments"}),e.jsx("option",{value:"upgrade",children:"Upgrade"}),e.jsx("option",{value:"cancellationRefund",children:"Cancellation for Refund"}),e.jsx("option",{value:"cancellationFutureCredit",children:"Cancellation for Future Credit"}),e.jsx("option",{value:"extraAddOn",children:"Extra Add On"}),e.jsx("option",{value:"ticketIssuance",children:"Ticket Issuance"})]})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"itineraryType",children:"Itinerary Type"}),e.jsxs("select",{name:"itineraryType",className:"form-select form_all",value:a.itineraryType,onChange:t,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"oneWay",children:"One-Way"}),e.jsx("option",{value:"roundTrip",children:"Round-Trip"}),e.jsx("option",{value:"multiCity",children:"Multi-City"}),e.jsx("option",{value:"dynamicItinerary",children:"Dynamic Itinerary"})]})]})}),(a.itineraryType==="oneWay"||a.itineraryType==="roundTrip")&&e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"outboundShip",children:"Outbound Ship"}),e.jsxs("select",{name:"outboundShip",className:"form-select form_all",value:a.outboundShip,onChange:t,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"outbound1",children:"1"}),e.jsx("option",{value:"outbound2",children:"2"}),e.jsx("option",{value:"outbound3",children:"3"}),e.jsx("option",{value:"outbound4",children:"4"}),e.jsx("option",{value:"outbound5",children:"5"})]})]})}),a.itineraryType==="roundTrip"&&e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"inboundShip",children:"Inbound Ship"}),e.jsxs("select",{name:"inboundShip",className:"form-select form_all",value:a.inboundShip,onChange:t,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"inbound1",children:"1"}),e.jsx("option",{value:"inbound2",children:"2"}),e.jsx("option",{value:"inbound3",children:"3"}),e.jsx("option",{value:"inbound4",children:"4"}),e.jsx("option",{value:"inbound5",children:"5"})]})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"passengers",children:"Number of Passengers"}),e.jsx("input",{type:"number",name:"passengers",className:"form-select form_all",value:a.passengers,onChange:t,min:1,onKeyDown:l=>{(l.key==="-"||l.keyCode===189)&&l.preventDefault()}})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"provider",children:"Select Provider"}),e.jsxs("select",{name:"provider",className:"form-select form_all",value:a.provider,onChange:t,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),V.filter(l=>l.providerStatus==="Active").map(l=>e.jsx("option",{value:l.provider,children:l.provider},l._id))]})]})})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("button",{type:"button",className:"create_bid",onClick:te,children:"Continue Ahead"})})]}):q===2?e.jsxs(e.Fragment,{children:[" ",e.jsxs("button",{onClick:ne,className:"back_btn",children:[e.jsx("img",{src:"/imgs/arrow-back.png"}),"Back"]}),e.jsxs("div",{children:[e.jsx("div",{className:"header_crm flex_props justify-content-between",children:e.jsx("p",{className:"crm_title",children:"Send Authentication to Customer"})}),e.jsxs("div",{className:"box_crm_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Itinerary Details"}),e.jsx("p",{className:"title_common_semi_main1",children:e.jsx("span",{children:"Outbound Segment"})}),F.map((l,s)=>e.jsxs("div",{className:`outbound_segment_container outbound_segment_container${s}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Outbound Ship ${s+1}`}),e.jsxs("div",{className:"flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`airlines_auth${s}`,children:"Airlines"}),e.jsxs("select",{className:"form-select box_crm_input_all",id:`airlines_auth${s}`,value:l.airline||"",onChange:r=>{var _,j;const n=r.target.value,i=f.find($=>$.ctmAirline===n),m=((j=(_=i==null?void 0:i.ctmAirlinePictures)==null?void 0:_[0])==null?void 0:j.img)||"";o("outbound",s,"airline",n),o("outbound",s,"airlineImage",m)},children:[e.jsx("option",{value:"",children:"Select Airline"}),f.map(r=>e.jsx("option",{value:r.ctmAirline,children:r.ctmAirline},r._id))]})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Airline Image"}),l.airlineImage?e.jsx(e.Fragment,{children:e.jsx("img",{src:`http://localhost:8000/uploads/${l.airlineImage}`,alt:"Airline",style:{width:"50px",height:"50px",objectFit:"cover"}})}):e.jsx("span",{children:"No image selected"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`shipno_send${s}`,children:"Ship No."}),e.jsx("input",{placeholder:"Ship",id:`shipno_send${s}`,value:l.ship||"",onChange:r=>o("outbound",s,"ship",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_from${s}`,children:"Destination From"}),e.jsx("input",{placeholder:"From",id:`desti_from${s}`,value:l.from||"",onChange:r=>o("outbound",s,"from",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_to${s}`,children:"Destination To"}),e.jsx("input",{placeholder:"To",id:`desti_to${s}`,value:l.to||"",onChange:r=>o("outbound",s,"to",r.target.value),className:"box_crm_input_all form-control"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`depart_d${s}`,children:"Departure Date"}),e.jsx(h,{selected:l.departure?new Date(l.departure):null,onChange:r=>o("outbound",s,"departure",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`return_d${s}`,children:"Arrival Date"}),e.jsx(h,{selected:l.arrival?new Date(l.arrival):null,onChange:r=>o("outbound",s,"arrival",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`class_air${s}`,children:"Class"}),e.jsxs("select",{id:`class_air${s}`,value:l.class||"",onChange:r=>o("outbound",s,"class",r.target.value),className:"form-select box_crm_input_all",children:[e.jsx("option",{value:"",children:"Select Class"}),M.map((r,n)=>e.jsx("option",{value:r.value,children:r.label},n))]})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`ai_loc${s}`,children:"Al Locator"}),e.jsx("input",{placeholder:"AL Locator",id:`ai_loc${s}`,value:l.alLocator||"",onChange:r=>o("outbound",s,"alLocator",r.target.value),className:"form-control box_crm_input_all"})]})})]},s)]})),a.itineraryType==="roundTrip"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"title_common_semi_main1 mt-3",children:e.jsx("span",{children:"Inbound Segment"})}),A.map((l,s)=>e.jsxs("div",{className:`outbound_segment_container inbound_segment_container${s}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Inbound Ship ${s+1}`}),e.jsxs("div",{className:"flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`airlines_inbound${s}`,children:"Airlines"}),e.jsxs("select",{className:"form-select box_crm_input_all",id:`airlines_inbound${s}`,value:l.airline||"",onChange:r=>{var _,j;const n=r.target.value,i=f.find($=>$.ctmAirline===n),m=((j=(_=i==null?void 0:i.ctmAirlinePictures)==null?void 0:_[0])==null?void 0:j.img)||"";o("inbound",s,"airline",n),o("inbound",s,"airlineImage",m)},children:[e.jsx("option",{value:"",children:"Select Airline"}),f.map(r=>e.jsx("option",{value:r.ctmAirline,children:r.ctmAirline},r._id))]})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Airline Image"}),l.airlineImage?e.jsx("img",{src:`http://localhost:8000/uploads/${l.airlineImage}`,alt:"Airline",style:{width:"50px",height:"50px",objectFit:"cover"}}):e.jsx("span",{children:"No image selected"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`sno_inbound${s}`,children:"s No."}),e.jsx("input",{placeholder:"s",id:`sno_inbound${s}`,value:l.s||"",onChange:r=>o("inbound",s,"s",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_from_inbound${s}`,children:"Destination From"}),e.jsx("input",{placeholder:"From",id:`desti_from_inbound${s}`,value:l.from||"",onChange:r=>o("inbound",s,"from",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_to_inbound${s}`,children:"Destination To"}),e.jsx("input",{placeholder:"To",id:`desti_to_inbound${s}`,value:l.to||"",onChange:r=>o("inbound",s,"to",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`depart_inbound${s}`,children:"Departure Date"}),e.jsx(h,{selected:l.departure?new Date(l.departure):null,onChange:r=>o("inbound",s,"departure",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`arrival_inbound${s}`,children:"Arrival Date"}),e.jsx(h,{selected:l.arrival?new Date(l.arrival):null,onChange:r=>o("inbound",s,"arrival",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`class_air_inbound${s}`,children:"Class"}),e.jsxs("select",{id:`class_air_inbound${s}`,value:l.class||"",onChange:r=>o("inbound",s,"class",r.target.value),className:"form-select box_crm_input_all",children:[e.jsx("option",{value:"",children:"Select Class"}),M.map((r,n)=>e.jsx("option",{value:r.value,children:r.label},n))]})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`ai_loc_inbound${s}`,children:"Al Locator"}),e.jsx("input",{placeholder:"AL Locator",id:`ai_loc_inbound${s}`,value:l.alLocator||"",onChange:r=>o("inbound",s,"alLocator",r.target.value),className:"form-control box_crm_input_all"})]})})]})]},s))]})]}),a.transactionType==="cancellationRefund"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Ticket Refund Details"}),e.jsxs("div",{className:"flex_all form_box_auth mt-2",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"refundAmount",value:a.refundAmount||"",onChange:l=>d({...a,refundAmount:l.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Refund Requested On"}),e.jsx(h,{selected:a.refundRequestedOn?new Date(a.refundRequestedOn):null,onChange:l=>d({...a,refundRequestedOn:l}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason for Refund"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"refundReason",value:a.refundReason||"",onChange:l=>d({...a,refundReason:l.target.value}),placeholder:"Reason"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Status"}),e.jsx("input",{className:"form-control box_crm_input_all",name:"refundStatus",value:a.refundStatus,onChange:l=>d({...a,refundStatus:l.target.value})})]})})]})]}),a.transactionType==="cancellationFutureCredit"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Future Credit Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"futureCreditAmount",value:a.futureCreditAmount||"",onChange:l=>d({...a,futureCreditAmount:l.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Requested On"}),e.jsx(h,{selected:a.futureCreditRequestedOn?new Date(a.futureCreditRequestedOn):null,onChange:l=>d({...a,futureCreditRequestedOn:l}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Validity"}),e.jsx(h,{selected:a.futureCreditValidity?new Date(a.futureCreditValidity):null,onChange:l=>d({...a,futureCreditValidity:l}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"futureCreditReason",value:a.futureCreditReason||"",onChange:l=>d({...a,futureCreditReason:l.target.value}),placeholder:"Reason"})]})})]})]}),a.transactionType==="ticketIssuance"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Ticket Issuance Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"ticketIssueAmount",value:a.ticketIssueAmount||"",onChange:l=>d({...a,ticketIssueAmount:l.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Requested On"}),e.jsx(h,{selected:a.ticketIssueRequestedOn?new Date(a.ticketIssueRequestedOn):null,onChange:l=>d({...a,ticketIssueRequestedOn:l}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Validity"}),e.jsx(h,{selected:a.ticketIssueValidity?new Date(a.ticketIssueValidity):null,onChange:l=>d({...a,ticketIssueValidity:l}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"ticketIssueReason",value:a.ticketIssueReason||"",onChange:l=>d({...a,ticketIssueReason:l.target.value}),placeholder:"Reason"})]})})]})]}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Price Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Base Fare"}),e.jsx("input",{name:"baseFare",placeholder:"Base Fare",value:a.baseFare,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Taxes & Fees"}),e.jsx("input",{name:"taxes",placeholder:"Taxes & Fees",value:a.taxes,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Total Amount"}),e.jsx("input",{name:"totalAmount",placeholder:"Total Amount",readOnly:!0,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Currency"}),e.jsxs("select",{name:"currency",className:"form-select box_crm_input_all",value:a.currency,onChange:t,children:[e.jsx("option",{value:"",children:"Select "}),w==null?void 0:w.map((l,s)=>e.jsx("option",{value:l.value,children:l.label},s))]})]})})]})]}),e.jsx("div",{className:"box_crm_tr margin_box_tr",children:g.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"title_common_semi",children:"Passenger Details"}),g.map((l,s)=>e.jsxs("div",{className:`outbound_segment_container outbound_segment_container${s}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Passenger Detail ${s+1}`}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Passenger Type"}),e.jsxs("select",{name:"detailsType",value:l.detailsType,onChange:r=>p(s,r),className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"adult",children:"Adult"}),e.jsx("option",{value:"infant",children:"Infant"}),e.jsx("option",{value:"child",children:"Child"})]})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"First Name"}),e.jsx("input",{name:"firstName",placeholder:"First Name",value:l.firstName,onChange:r=>p(s,r),className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Middle Name"}),e.jsx("input",{name:"middleName",placeholder:"Middle Name",value:l.middleName,onChange:r=>p(s,r),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Last Name"}),e.jsx("input",{name:"lastName",placeholder:"Last Name",value:l.lastName,onChange:r=>p(s,r),className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Gender"}),e.jsxs("select",{name:"gender",value:l.gender,onChange:r=>p(s,r),className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{className:"w-100",children:"Date Of Birth"}),e.jsx(h,{selected:l.dob?new Date(l.dob):null,onChange:r=>p(s,{target:{name:"dob",value:r.toISOString().split("T")[0]}}),dateFormat:"MM-dd-yyyy",className:"form-control box_crm_input_all"})]})})]},s)]}))]})}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Billing Details"}),e.jsxs("p",{onClick:()=>I(!0),className:"provider_btnn",children:[e.jsx("img",{src:"/imgs/add.png"}),"Add Secondary Card"]}),K&&e.jsxs("div",{children:[e.jsx("h4",{className:"add_pr_title",children:"ADD Secondary Card"}),e.jsx("hr",{className:"my-3"}),e.jsx("form",{children:e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Type"}),e.jsxs("select",{name:"cardType2",value:a.cardType2,onChange:t,className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select "}),x==null?void 0:x.map((l,s)=>e.jsx("option",{value:l.value,children:l.label},s))]})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"C.C.H.Name"}),e.jsx("input",{name:"cchName2",placeholder:"C.C.H Name",value:a.cchName2,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Number"}),e.jsx("input",{name:"cardNumber2",placeholder:"Card Number",value:a.cardNumber2,onChange:t,className:"form-control box_crm_input_all",required:!0}),e.jsx("span",{className:"card_type",children:O})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"CVV"}),e.jsx("input",{name:"cvv2",placeholder:"CVV",value:a.cvv2,onChange:t,className:"form-control box_crm_input_all",maxLength:4,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Month"}),e.jsx("input",{name:"expiryMonth2",placeholder:"MM",value:a.expiryMonth2,onChange:t,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Year"}),e.jsx("input",{name:"expiryYear2",placeholder:"YY",value:a.expiryYear2,onChange:t,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsxs("div",{className:"flex_props gap-2 mt-3 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn_provider_pop btn_provider_pop_add",onClick:_e,children:"Add"}),e.jsx("button",{type:"button",className:"btn_provider_pop",onClick:()=>I(!1),children:"Cancel"})]})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Type"}),e.jsxs("select",{name:"cardType",value:a.cardType,onChange:t,className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select "}),x==null?void 0:x.map((l,s)=>e.jsx("option",{value:l.value,children:l.label},s))]})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"C.C.H.Name"}),e.jsx("input",{name:"cchName",placeholder:"C.C.H Name",value:a.cchName,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Number"}),e.jsx("input",{name:"cardNumber",placeholder:"Card Number",value:a.cardNumber,onChange:t,className:"form-control box_crm_input_all",required:!0}),e.jsxs("span",{className:"card_type",children:[" ",O," "]})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"CVV"}),e.jsx("input",{name:"cvv",placeholder:"CVV",value:a.cvv,onChange:t,className:"form-control box_crm_input_all",maxLength:4,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Month"}),e.jsx("input",{name:"expiryMonth",placeholder:"MM",value:a.expiryMonth,onChange:t,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Year"}),e.jsx("input",{name:"expiryYear",placeholder:"YY",value:a.expiryYear,onChange:t,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Phone Number"}),e.jsx("input",{name:"billingPhoneNumber",placeholder:"Billing Phone Number",value:a.billingPhoneNumber,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Contact Phone Number"}),e.jsx("input",{name:"contactNumber",placeholder:"Contact Number",value:a.contactNumber,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Address"}),e.jsx("input",{name:"billingAddress1",placeholder:"Billing Address 1",value:a.billingAddress1,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Address 2"}),e.jsx("input",{name:"billingAddress2",placeholder:"Billing Address 2",value:a.billingAddress2,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Email Address"}),e.jsx("input",{name:"email",placeholder:"Email",value:a.email,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"City"}),e.jsx("input",{name:"city",placeholder:"City",value:a.city,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"State"}),e.jsx("input",{name:"state",placeholder:"State",value:a.state,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Country"}),e.jsx("input",{name:"country",placeholder:"Country",value:a.country,onChange:t,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"ZIP Code"}),e.jsx("input",{name:"zipCode",placeholder:"Zip Code",value:a.zipCode,onChange:t,className:"form-control box_crm_input_all",required:!0})]})})]})]}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"DNIS"}),e.jsx("div",{className:"mt-2 flex_all form_box_auth",children:e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Dnis "}),e.jsx("input",{name:"dnis",placeholder:"Enter Dnis ",value:a.dnis,onChange:t,className:"form-control box_crm_input_all",required:!0})]})})})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("button",{type:"button",className:"create_bid",onClick:ce,children:"Send Auth"})}),H&&e.jsx("div",{className:"log_all_pop",children:e.jsxs("div",{className:"log_pop_semi",children:[e.jsxs("p",{className:"log_header flex_props justify-content-between",children:["Add Remarks"," ",e.jsx("button",{className:"log_close",onClick:()=>ue(),children:e.jsx("img",{src:"/imgs/close-icon.png"})})]}),e.jsx("div",{className:"box_crm_input",children:e.jsx("textarea",{className:"form-control box_crm_input_all",rows:4,value:N,onChange:l=>P(l.target.value),placeholder:"Enter remarks here...",required:!0})}),e.jsx("div",{className:"d-flex justify-content-end mt-3",children:e.jsx("button",{type:"button",className:"create_bid",onClick:me,disabled:!N.trim(),children:"Confirm & Submit"})})]})})]})]}):null})})})})]})})};export{Se as default};
