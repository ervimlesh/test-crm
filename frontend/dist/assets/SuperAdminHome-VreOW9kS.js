import{u,f as b,r as N,j as s,N as x}from"./index-DDoEHnfR.js";import{L as v}from"./Layout-Co7qzEc2.js";import{S as k}from"./SideBar-DCoEgSRU.js";const D=()=>{var l,t,r,m;const{auth:e}=u(),{ctmFlightDeals:o}=b(),a=new Date,h=((l=e==null?void 0:e.user)==null?void 0:l._id)||"";(t=e==null?void 0:e.user)==null||t.role;const c=N.useMemo(()=>(o==null?void 0:o.filter(i=>{var g,_;if(!((g=i==null?void 0:i.outboundSegments)!=null&&g.length))return!1;const j=i.createdAt,n=new Date(j);return n.getDate()===a.getDate()&&n.getMonth()===a.getMonth()&&n.getFullYear()===a.getFullYear()&&h===((_=i==null?void 0:i.agent)==null?void 0:_._id)}))||[],[o,a]);let d=0;return c.forEach(i=>{(i==null?void 0:i.agentFigure)==="yes"&&(d+=Number((i==null?void 0:i.taxes)||0))}),s.jsx(v,{children:s.jsxs("main",{class:"crm_all_body d-flex",children:[s.jsx(k,{}),s.jsxs("section",{className:"",children:[s.jsx("div",{className:"header_crm flex_props justify-content-between",children:s.jsx("p",{className:"crm_title",children:"Overview of All Booking"})}),s.jsxs("div",{className:"all_booking_grid",children:[s.jsx("div",{className:"booking_container_crm relative",children:s.jsxs(x,{className:"booking_head",to:`/astrivion/ctm-today-booking-admin${(r=e==null?void 0:e.user)!=null&&r._id?`/${e.user._id}`:""}`,children:[s.jsxs("div",{className:"booking_head_all",children:[s.jsx("div",{className:"booking_img",children:s.jsx("img",{src:"/imgs/today-icon.png"})}),s.jsxs("div",{className:"booking_cont_crm",children:[s.jsx("p",{className:"booking_num",children:"Today BIDS"}),s.jsx("p",{className:"font_12",children:"Review today’s BIDS and submit..."})]})]}),s.jsxs("div",{className:"booking_body_control",children:[s.jsx("p",{className:"booking_num1",children:c.length}),s.jsx("p",{className:"booking_t",children:"Bids compiled and submitted for processing"})]}),s.jsx("div",{className:"booking_graph_ic",children:s.jsx("img",{src:"imgs/graph-icon.png"})})]})}),s.jsx("div",{className:"booking_container_crm relative",children:s.jsxs(x,{className:"booking_head",to:`/astrivion/ctm-today-revenue-admin${(m=e==null?void 0:e.user)!=null&&m._id?`/${e.user._id}`:""}`,children:[s.jsxs("div",{className:"booking_head_all",children:[s.jsx("div",{className:"booking_img",children:s.jsx("img",{src:"/imgs/today-icon.png"})}),s.jsxs("div",{className:"booking_cont_crm",children:[s.jsx("p",{className:"booking_num",children:"Today's revenue"}),s.jsx("p",{className:"font_12",children:"Review today’s revenue and submit..."})]})]}),s.jsxs("div",{className:"booking_body_control",children:[s.jsx("p",{className:"booking_num1",children:d.toFixed(2)}),s.jsx("p",{className:"booking_t",children:"Bids compiled and submitted for processing"})]}),s.jsx("div",{className:"booking_graph_ic",children:s.jsx("img",{src:"imgs/graph-icon.png"})})]})})]})]})]})})};export{D as default};
