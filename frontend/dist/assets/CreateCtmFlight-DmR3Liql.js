import{r as c,a as xe,i as pe,j as e,b as v,V as u}from"./index-DDoEHnfR.js";import{L as be}from"./Layout-Co7qzEc2.js";import{S as je}from"./SideBar-DCoEgSRU.js";import{c as ve}from"./index-DAJh6P76.js";import{D as h}from"./index.es-_Aq59fjB.js";/* empty css                         */import"./clsx-B-dksMZM.js";const Ae=()=>{var Y;const z={transactionType:"",itineraryType:"",passengers:"",provider:"",airline:"",airlineImage:"",flight:"",from:"",to:"",departure:"",arrival:"",class:"",alLocator:"",baseFare:"",taxes:"",totalAmount:"",currency:"USD",detailsType:"",firstName:"",middleName:"",lastName:"",gender:"",dob:"",cardType:"",cchName:"",cardNumber:"",cvv:"",dnis:"",expiryMonth:"",expiryYear:"",cardType2:"",cchName2:"",cardNumber2:"",cvv2:"",expiryMonth2:"",expiryYear2:"",billingPhoneNumber:"",contactNumber:"",billingAddress1:"",billingAddress2:"",email:"",city:"",state:"",country:"",zipCode:"",outboundFlight:"",inboundFlight:"",refundAmount:"",refundRequestedOn:"",refundReason:"",refundStatus:"",futureCreditAmount:"",futureCreditRequestedOn:"",futureCreditValidity:"",futureCreditReason:"",ticketIssueAmount:"",ticketIssueRequestedOn:"",ticketIssueValidity:"",ticketIssueReason:""},[a,d]=c.useState(z),[H,C]=c.useState(!1),[N,P]=c.useState(""),[O,L]=c.useState(""),[V,Z]=c.useState([]),[f,W]=c.useState([]),[F,G]=c.useState([]),[M,J]=c.useState([]),[x,U]=c.useState([]),[w,A]=c.useState([]),[S,T]=c.useState([]),[g,D]=c.useState([]),[K,I]=c.useState(!1),Q="currency",X="class",ee="cardType",le=async()=>{var s;try{const l=await v.get(`/api/v1/dropdown/get-dropdown?type=${Q}`);G((s=l==null?void 0:l.data)==null?void 0:s.items)}catch(l){console.log(l),u.error("Failed to load dropdown items")}},se=async()=>{var s;try{const l=await v.get(`/api/v1/dropdown/get-dropdown?type=${X}`);J((s=l==null?void 0:l.data)==null?void 0:s.items)}catch(l){console.log(l),u.error("Failed to load dropdown items")}},ae=async()=>{var s;try{const l=await v.get(`/api/v1/dropdown/get-dropdown?type=${ee}`);U((s=l==null?void 0:l.data)==null?void 0:s.items)}catch(l){console.log(l),u.error("Failed to load dropdown items")}};c.useEffect(()=>{se(),le(),ae()},[]),c.useEffect(()=>{(async()=>{try{const l=await v.get("/api/v1/ctmFlights/get-provider");l.data.success&&Z(l.data.booking)}catch(l){console.error("Failed to fetch providers",l)}})()},[]),c.useEffect(()=>{(async()=>{try{const l=await v.get("/api/v1/ctmFlights/get-ctmAirline");console.log("resi s",l.data),l.data.success&&W(l.data.booking)}catch(l){console.error("Failed to fetch providers",l)}})()},[]);const n=s=>{const{name:l,value:r}=s.target;if(l==="cardNumber"){const t=ve.number(r);t.card?L(t.card.niceType):L("")}if(l==="passengers"){const t=parseInt(r,10)||0,i=Array.from({length:t},(m,_)=>g[_]||{detailsType:"",firstName:"",middleName:"",lastName:"",gender:"",dob:""});D(i),d({...a,passengers:r,passengerDetails:i})}if(d({...a,[l]:r}),l==="outboundFlight"){const t=parseInt(r.replace("outbound",""))||0;A(Array(t).fill({}))}if(l==="inboundFlight"){const t=parseInt(r.replace("inbound",""))||0;T(Array(t).fill({}))}},p=(s,l)=>{const{name:r,value:t}=l.target,i=[...g];i[s][r]=t,D(i),d({...a,passengerDetails:i})},o=(s,l,r,t)=>{s==="outbound"?A(i=>{const m=[...i];return m[l]={...m[l],[r]:t},m}):T(i=>{const m=[...i];return m[l]={...m[l],[r]:t},m})},[q,k]=c.useState(1),re=()=>{const s=["transactionType","itineraryType","passengers","provider","outboundFlight"];for(const l of s)if(!a[l]){const r=l.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());return u.error(`Please select ${r}`),!1}return a.itineraryType==="roundTrip"&&(!a.inboundFlight||!a.inboundFlight.toString().trim())?(u.error("Please fill the Inbound Flight"),!1):!0},te=()=>{k(1)},ne=()=>{re()&&k(2)},ie=localStorage.getItem("auth"),R=JSON.parse(ie),oe=(Y=R==null?void 0:R.user)==null?void 0:Y._id,ce=s=>{s.preventDefault(),E()&&C(!0)},E=()=>{const s=["transactionType","itineraryType","passengers","provider","baseFare","taxes","currency","cardType","cchName","cardNumber","cvv","expiryMonth","expiryYear","billingPhoneNumber","contactNumber","billingAddress1","billingAddress2","email","city","dnis","state","country","zipCode","outboundFlight"];for(let l of s)if(!a[l]||!a[l].toString().trim())return u.error(`Please fill the ${l.replace(/([A-Z])/g," $1")}`),!1;if(!a.passengerDetails||a.passengerDetails.length===0)return u.error("Please add at least one passenger"),!1;for(let l=0;l<a.passengerDetails.length;l++){const r=a.passengerDetails[l];if(!r.detailsType||!r.firstName||!r.lastName||!r.gender||!r.dob)return u.error(`Please fill all required fields for passenger ${l+1}`),!1}return!(!B(w,"outbound")||a.itineraryType==="roundTrip"&&!B(S,"inbound"))},de=["airline","flight","from","to","departure","arrival","class","alLocator"],B=(s,l)=>{for(let r=0;r<s.length;r++){const t=s[r];for(const i of de)if(!t[i]||t[i].toString().trim()==="")return u.error(`Please fill ${i} for ${l} flight segment ${r+1}`),!1}return!0},y=xe(),b=pe(),me=()=>{if(!E())return;if(!N.trim())return u.error("Please enter remarks."),!1;C(!1);const s={...a,tollFreeNumber:V,outboundSegments:w,inboundSegments:S,remarks:N,refundDetails:{amount:a.refundAmount,refundRequestedOn:a.refundRequestedOn,reasonForRefund:a.refundReason,refundStatus:a.refundStatus},futureCreditDetails:{amount:a.futureCreditAmount,futureCreditRequestedOn:a.futureCreditRequestedOn,futureCreditValidity:a.futureCreditValidity,reasonForFutureCredit:a.futureCreditReason},ticketIssueDetails:{ticketIssueAmount:a.ticketIssueAmount,ticketIssueRequestedOn:a.ticketIssueRequestedOn,ticketIssueValidity:a.ticketIssueValidity,ticketIssueReason:a.ticketIssueReason},agent:oe};console.log("flightDetails",s);try{sessionStorage.setItem("ctm_flightDetails",JSON.stringify({flightDetails:s,step:q}))}catch(l){console.warn("Could not persist flightDetails to sessionStorage",l)}a.transactionType==="cancellationRefund"?y("/astrivion/auth-refund-invoice-preview",{state:{flightDetails:s,isAuthFlow:!1}}):a.transactionType==="cancellationFutureCredit"?y("/astrivion/auth-future-credit-invoice-preview",{state:{flightDetails:s,isAuthFlow:!1}}):s.transactionType==="ticketIssuance"?y("/astrivion/auth-invoice-preview-ticket-issuance",{state:{flightDetails:s,isAuthFlow:!0}}):y("/astrivion/auth-invoice-preview",{state:{flightDetails:s,isAuthFlow:!1}})},ue=()=>{C(!1),P("")};c.useEffect(()=>{console.log("attempting to restore saved flight details"),(()=>{var l;if((l=b.state)!=null&&l.flightDetails){const{flightDetails:r}=b.state;return console.log("restoring from location.state",b.state),d(t=>({...t,...r})),A(r.outboundSegments||[]),T(r.inboundSegments||[]),D(r.passengerDetails||[]),(b.state.step||r.outboundSegments&&r.outboundSegments.length>0||r.inboundSegments&&r.inboundSegments.length>0)&&k(b.state.step||2),!0}return!1})()},[b]);const he=()=>{sessionStorage.removeItem("ctm_flightDetails"),window.location.reload()},_e=()=>{if(["cardType2","cchName2","cardNumber2","cvv2","expiryMonth2","expiryYear2"].filter(r=>{var t;return!((t=a[r])!=null&&t.trim())}).length>0){alert("Please fill all required fields.");return}I(!1)};return e.jsx(be,{children:e.jsxs("main",{class:"crm_all_body d-flex",children:[e.jsx(je,{}),e.jsx("div",{className:"crm_right relative",children:e.jsx("section",{className:"",children:e.jsx("form",{className:"travel_details_cont",children:e.jsx("div",{className:"queryparent",children:q===1?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"header_crm flex_props justify-content-between",children:[e.jsx("p",{className:"crm_title",children:"Traveller Details"}),e.jsxs("button",{className:"refresh_btn",onClick:he,children:[e.jsx("img",{src:"/imgs/refresh-icon.png"}),"Refresh"]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"transactionType",className:"form-label",children:"Transaction Type"}),e.jsxs("select",{name:"transactionType",className:"form-select form_all",value:a.transactionType,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"newBooking",children:"New Booking"}),e.jsx("option",{value:"exchange",children:"Exchange"}),e.jsx("option",{value:"seatAssignments",children:"Seat Assignments"}),e.jsx("option",{value:"upgrade",children:"Upgrade"}),e.jsx("option",{value:"cancellationRefund",children:"Cancellation for Refund"}),e.jsx("option",{value:"cancellationFutureCredit",children:"Cancellation for Future Credit"}),e.jsx("option",{value:"extraAddOn",children:"Extra Add On"}),e.jsx("option",{value:"ticketIssuance",children:"Ticket Issuance"})]})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"itineraryType",children:"Itinerary Type"}),e.jsxs("select",{name:"itineraryType",className:"form-select form_all",value:a.itineraryType,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"oneWay",children:"One-Way"}),e.jsx("option",{value:"roundTrip",children:"Round-Trip"}),e.jsx("option",{value:"multiCity",children:"Multi-City"}),e.jsx("option",{value:"dynamicItinerary",children:"Dynamic Itinerary"})]})]})}),(a.itineraryType==="oneWay"||a.itineraryType==="roundTrip")&&e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"outboundFlight",children:"Outbound Flight"}),e.jsxs("select",{name:"outboundFlight",className:"form-select form_all",value:a.outboundFlight,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"outbound1",children:"1"}),e.jsx("option",{value:"outbound2",children:"2"}),e.jsx("option",{value:"outbound3",children:"3"}),e.jsx("option",{value:"outbound4",children:"4"}),e.jsx("option",{value:"outbound5",children:"5"})]})]})}),a.itineraryType==="roundTrip"&&e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"inboundFlight",children:"Inbound Flight"}),e.jsxs("select",{name:"inboundFlight",className:"form-select form_all",value:a.inboundFlight,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"inbound1",children:"1"}),e.jsx("option",{value:"inbound2",children:"2"}),e.jsx("option",{value:"inbound3",children:"3"}),e.jsx("option",{value:"inbound4",children:"4"}),e.jsx("option",{value:"inbound5",children:"5"})]})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"passengers",children:"Number of Passengers"}),e.jsx("input",{type:"number",name:"passengers",className:"form-select form_all",value:a.passengers,onChange:n,min:1,onKeyDown:s=>{(s.key==="-"||s.keyCode===189)&&s.preventDefault()}})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"form_travel",children:[e.jsx("label",{htmlFor:"provider",children:"Select Provider"}),e.jsxs("select",{name:"provider",className:"form-select form_all",value:a.provider,onChange:n,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),V.filter(s=>s.providerStatus==="Active").map(s=>e.jsx("option",{value:s.provider,children:s.provider},s._id))]})]})})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("button",{type:"button",className:"create_bid",onClick:ne,children:"Continue Ahead"})})]}):q===2?e.jsxs(e.Fragment,{children:[" ",e.jsxs("button",{onClick:te,className:"back_btn",children:[e.jsx("img",{src:"/imgs/arrow-back.png"}),"Back"]}),e.jsxs("div",{children:[e.jsx("div",{className:"header_crm flex_props justify-content-between",children:e.jsx("p",{className:"crm_title",children:"Send Authentication to Customer"})}),e.jsxs("div",{className:"box_crm_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Itinerary Details"}),e.jsx("p",{className:"title_common_semi_main1",children:e.jsx("span",{children:"Outbound Segment"})}),w.map((s,l)=>e.jsxs("div",{className:`outbound_segment_container outbound_segment_container${l}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Outbound Flight ${l+1}`}),e.jsxs("div",{className:"flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`airlines_auth${l}`,children:"Airlines"}),e.jsxs("select",{className:"form-select box_crm_input_all",id:`airlines_auth${l}`,value:s.airline||"",onChange:r=>{var _,j;const t=r.target.value,i=f.find($=>$.ctmAirline===t),m=((j=(_=i==null?void 0:i.ctmAirlinePictures)==null?void 0:_[0])==null?void 0:j.img)||"";o("outbound",l,"airline",t),o("outbound",l,"airlineImage",m)},children:[e.jsx("option",{value:"",children:"Select Airline"}),f.map(r=>e.jsx("option",{value:r.ctmAirline,children:r.ctmAirline},r._id))]})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Airline Image"}),s.airlineImage?e.jsx(e.Fragment,{children:e.jsx("img",{src:`http://localhost:8000/uploads/${s.airlineImage}`,alt:"Airline",style:{width:"50px",height:"50px",objectFit:"cover"}})}):e.jsx("span",{children:"No image selected"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`flightno_send${l}`,children:"Flight No."}),e.jsx("input",{placeholder:"Flight",id:`flightno_send${l}`,value:s.flight||"",onChange:r=>o("outbound",l,"flight",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_from${l}`,children:"Destination From"}),e.jsx("input",{placeholder:"From",id:`desti_from${l}`,value:s.from||"",onChange:r=>o("outbound",l,"from",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_to${l}`,children:"Destination To"}),e.jsx("input",{placeholder:"To",id:`desti_to${l}`,value:s.to||"",onChange:r=>o("outbound",l,"to",r.target.value),className:"box_crm_input_all form-control"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`depart_d${l}`,children:"Departure Date"}),e.jsx(h,{selected:s.departure?new Date(s.departure):null,onChange:r=>o("outbound",l,"departure",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`return_d${l}`,children:"Arrival Date"}),e.jsx(h,{selected:s.arrival?new Date(s.arrival):null,onChange:r=>o("outbound",l,"arrival",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`class_air${l}`,children:"Class"}),e.jsxs("select",{id:`class_air${l}`,value:s.class||"",onChange:r=>o("outbound",l,"class",r.target.value),className:"form-select box_crm_input_all",children:[e.jsx("option",{value:"",children:"Select Class"}),M.map((r,t)=>e.jsx("option",{value:r.value,children:r.label},t))]})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`ai_loc${l}`,children:"Al Locator"}),e.jsx("input",{placeholder:"AL Locator",id:`ai_loc${l}`,value:s.alLocator||"",onChange:r=>o("outbound",l,"alLocator",r.target.value),className:"form-control box_crm_input_all"})]})})]},l)]})),a.itineraryType==="roundTrip"&&e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"title_common_semi_main1 mt-3",children:e.jsx("span",{children:"Inbound Segment"})}),S.map((s,l)=>e.jsxs("div",{className:`outbound_segment_container inbound_segment_container${l}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Inbound Flight ${l+1}`}),e.jsxs("div",{className:"flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`airlines_inbound${l}`,children:"Airlines"}),e.jsxs("select",{className:"form-select box_crm_input_all",id:`airlines_inbound${l}`,value:s.airline||"",onChange:r=>{var _,j;const t=r.target.value,i=f.find($=>$.ctmAirline===t),m=((j=(_=i==null?void 0:i.ctmAirlinePictures)==null?void 0:_[0])==null?void 0:j.img)||"";o("inbound",l,"airline",t),o("inbound",l,"airlineImage",m)},children:[e.jsx("option",{value:"",children:"Select Airline"}),f.map(r=>e.jsx("option",{value:r.ctmAirline,children:r.ctmAirline},r._id))]})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Airline Image"}),s.airlineImage?e.jsx("img",{src:`http://localhost:8000/uploads/${s.airlineImage}`,alt:"Airline",style:{width:"50px",height:"50px",objectFit:"cover"}}):e.jsx("span",{children:"No image selected"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`flightno_inbound${l}`,children:"Flight No."}),e.jsx("input",{placeholder:"Flight",id:`flightno_inbound${l}`,value:s.flight||"",onChange:r=>o("inbound",l,"flight",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_from_inbound${l}`,children:"Destination From"}),e.jsx("input",{placeholder:"From",id:`desti_from_inbound${l}`,value:s.from||"",onChange:r=>o("inbound",l,"from",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`desti_to_inbound${l}`,children:"Destination To"}),e.jsx("input",{placeholder:"To",id:`desti_to_inbound${l}`,value:s.to||"",onChange:r=>o("inbound",l,"to",r.target.value),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`depart_inbound${l}`,children:"Departure Date"}),e.jsx(h,{selected:s.departure?new Date(s.departure):null,onChange:r=>o("inbound",l,"departure",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in13 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`arrival_inbound${l}`,children:"Arrival Date"}),e.jsx(h,{selected:s.arrival?new Date(s.arrival):null,onChange:r=>o("inbound",l,"arrival",r),showTimeSelect:!0,timeIntervals:1,dateFormat:"Pp",className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`class_air_inbound${l}`,children:"Class"}),e.jsxs("select",{id:`class_air_inbound${l}`,value:s.class||"",onChange:r=>o("inbound",l,"class",r.target.value),className:"form-select box_crm_input_all",children:[e.jsx("option",{value:"",children:"Select Class"}),M.map((r,t)=>e.jsx("option",{value:r.value,children:r.label},t))]})]})}),e.jsx("div",{className:"width_control_in23 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:`ai_loc_inbound${l}`,children:"Al Locator"}),e.jsx("input",{placeholder:"AL Locator",id:`ai_loc_inbound${l}`,value:s.alLocator||"",onChange:r=>o("inbound",l,"alLocator",r.target.value),className:"form-control box_crm_input_all"})]})})]})]},l))]})]}),a.transactionType==="cancellationRefund"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Ticket Refund Details"}),e.jsxs("div",{className:"flex_all form_box_auth mt-2",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"refundAmount",value:a.refundAmount||"",onChange:s=>d({...a,refundAmount:s.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Refund Requested On"}),e.jsx(h,{selected:a.refundRequestedOn?new Date(a.refundRequestedOn):null,onChange:s=>d({...a,refundRequestedOn:s}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason for Refund"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"refundReason",value:a.refundReason||"",onChange:s=>d({...a,refundReason:s.target.value}),placeholder:"Reason"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Status"}),e.jsx("input",{className:"form-control box_crm_input_all",name:"refundStatus",value:a.refundStatus,onChange:s=>d({...a,refundStatus:s.target.value})})]})})]})]}),a.transactionType==="cancellationFutureCredit"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Future Credit Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"futureCreditAmount",value:a.futureCreditAmount||"",onChange:s=>d({...a,futureCreditAmount:s.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Requested On"}),e.jsx(h,{selected:a.futureCreditRequestedOn?new Date(a.futureCreditRequestedOn):null,onChange:s=>d({...a,futureCreditRequestedOn:s}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Validity"}),e.jsx(h,{selected:a.futureCreditValidity?new Date(a.futureCreditValidity):null,onChange:s=>d({...a,futureCreditValidity:s}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"futureCreditReason",value:a.futureCreditReason||"",onChange:s=>d({...a,futureCreditReason:s.target.value}),placeholder:"Reason"})]})})]})]}),a.transactionType==="ticketIssuance"&&e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Ticket Issuance Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",className:"form-control box_crm_input_all",name:"ticketIssueAmount",value:a.ticketIssueAmount||"",onChange:s=>d({...a,ticketIssueAmount:s.target.value}),placeholder:"Amount"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Requested On"}),e.jsx(h,{selected:a.ticketIssueRequestedOn?new Date(a.ticketIssueRequestedOn):null,onChange:s=>d({...a,ticketIssueRequestedOn:s}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Validity"}),e.jsx(h,{selected:a.ticketIssueValidity?new Date(a.ticketIssueValidity):null,onChange:s=>d({...a,ticketIssueValidity:s}),className:"form-control box_crm_input_all",placeholderText:"mm/dd/yyyy"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{children:"Reason"}),e.jsx("input",{type:"text",className:"form-control box_crm_input_all",name:"ticketIssueReason",value:a.ticketIssueReason||"",onChange:s=>d({...a,ticketIssueReason:s.target.value}),placeholder:"Reason"})]})})]})]}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Price Details"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Base Fare"}),e.jsx("input",{name:"baseFare",placeholder:"Base Fare",value:a.baseFare,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Taxes & Fees"}),e.jsx("input",{name:"taxes",placeholder:"Taxes & Fees",value:a.taxes,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Total Amount"}),e.jsx("input",{name:"totalAmount",placeholder:"Total Amount",readOnly:!0,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Currency"}),e.jsxs("select",{name:"currency",className:"form-select box_crm_input_all",value:a.currency,onChange:n,children:[e.jsx("option",{value:"",children:"Select "}),F==null?void 0:F.map((s,l)=>e.jsx("option",{value:s.value,children:s.label},l))]})]})})]})]}),e.jsx("div",{className:"box_crm_tr margin_box_tr",children:g.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"title_common_semi",children:"Passenger Details"}),g.map((s,l)=>e.jsxs("div",{className:`outbound_segment_container outbound_segment_container${l}`,children:[e.jsx("p",{className:"title_common_semi1",children:`Passenger Detail ${l+1}`}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Passenger Type"}),e.jsxs("select",{name:"detailsType",value:s.detailsType,onChange:r=>p(l,r),className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"adult",children:"Adult"}),e.jsx("option",{value:"infant",children:"Infant"}),e.jsx("option",{value:"child",children:"Child"})]})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"First Name"}),e.jsx("input",{name:"firstName",placeholder:"First Name",value:s.firstName,onChange:r=>p(l,r),className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Middle Name"}),e.jsx("input",{name:"middleName",placeholder:"Middle Name",value:s.middleName,onChange:r=>p(l,r),className:"form-control box_crm_input_all"})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Last Name"}),e.jsx("input",{name:"lastName",placeholder:"Last Name",value:s.lastName,onChange:r=>p(l,r),className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Gender"}),e.jsxs("select",{name:"gender",value:s.gender,onChange:r=>p(l,r),className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]})]})}),e.jsx("div",{className:"width_control_in25 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{className:"w-100",children:"Date Of Birth"}),e.jsx(h,{selected:s.dob?new Date(s.dob):null,onChange:r=>p(l,{target:{name:"dob",value:r.toISOString().split("T")[0]}}),dateFormat:"MM-dd-yyyy",className:"form-control box_crm_input_all"})]})})]},l)]}))]})}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"Billing Details"}),e.jsxs("p",{onClick:()=>I(!0),className:"provider_btnn",children:[e.jsx("img",{src:"/imgs/add.png"}),"Add Secondary Card"]}),K&&e.jsxs("div",{children:[e.jsx("h4",{className:"add_pr_title",children:"ADD Secondary Card"}),e.jsx("hr",{className:"my-3"}),e.jsx("form",{children:e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Type"}),e.jsxs("select",{name:"cardType2",value:a.cardType2,onChange:n,className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select "}),x==null?void 0:x.map((s,l)=>e.jsx("option",{value:s.value,children:s.label},l))]})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"C.C.H.Name"}),e.jsx("input",{name:"cchName2",placeholder:"C.C.H Name",value:a.cchName2,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Number"}),e.jsx("input",{name:"cardNumber2",placeholder:"Card Number",value:a.cardNumber2,onChange:n,className:"form-control box_crm_input_all",required:!0}),e.jsx("span",{className:"card_type",children:O})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"CVV"}),e.jsx("input",{name:"cvv2",placeholder:"CVV",value:a.cvv2,onChange:n,className:"form-control box_crm_input_all",maxLength:4,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Month"}),e.jsx("input",{name:"expiryMonth2",placeholder:"MM",value:a.expiryMonth2,onChange:n,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Year"}),e.jsx("input",{name:"expiryYear2",placeholder:"YY",value:a.expiryYear2,onChange:n,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsxs("div",{className:"flex_props gap-2 mt-3 justify-content-end",children:[e.jsx("button",{type:"button",className:"btn_provider_pop btn_provider_pop_add",onClick:_e,children:"Add"}),e.jsx("button",{type:"button",className:"btn_provider_pop",onClick:()=>I(!1),children:"Cancel"})]})]})})]}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"mt-2 flex_all form_box_auth",children:[e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Type"}),e.jsxs("select",{name:"cardType",value:a.cardType,onChange:n,className:"form-select box_crm_input_all",required:!0,children:[e.jsx("option",{value:"",children:"Select "}),x==null?void 0:x.map((s,l)=>e.jsx("option",{value:s.value,children:s.label},l))]})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"C.C.H.Name"}),e.jsx("input",{name:"cchName",placeholder:"C.C.H Name",value:a.cchName,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Card Number"}),e.jsx("input",{name:"cardNumber",placeholder:"Card Number",value:a.cardNumber,onChange:n,className:"form-control box_crm_input_all",required:!0}),e.jsxs("span",{className:"card_type",children:[" ",O," "]})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"CVV"}),e.jsx("input",{name:"cvv",placeholder:"CVV",value:a.cvv,onChange:n,className:"form-control box_crm_input_all",maxLength:4,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Month"}),e.jsx("input",{name:"expiryMonth",placeholder:"MM",value:a.expiryMonth,onChange:n,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in15 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Expiry Year"}),e.jsx("input",{name:"expiryYear",placeholder:"YY",value:a.expiryYear,onChange:n,className:"form-control box_crm_input_all",maxLength:2,required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Phone Number"}),e.jsx("input",{name:"billingPhoneNumber",placeholder:"Billing Phone Number",value:a.billingPhoneNumber,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Contact Phone Number"}),e.jsx("input",{name:"contactNumber",placeholder:"Contact Number",value:a.contactNumber,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Address"}),e.jsx("input",{name:"billingAddress1",placeholder:"Billing Address 1",value:a.billingAddress1,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Billing Address 2"}),e.jsx("input",{name:"billingAddress2",placeholder:"Billing Address 2",value:a.billingAddress2,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Email Address"}),e.jsx("input",{name:"email",placeholder:"Email",value:a.email,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"City"}),e.jsx("input",{name:"city",placeholder:"City",value:a.city,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"State"}),e.jsx("input",{name:"state",placeholder:"State",value:a.state,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Country"}),e.jsx("input",{name:"country",placeholder:"Country",value:a.country,onChange:n,className:"form-control box_crm_input_all",required:!0})]})}),e.jsx("div",{className:"width_control_in20 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"ZIP Code"}),e.jsx("input",{name:"zipCode",placeholder:"Zip Code",value:a.zipCode,onChange:n,className:"form-control box_crm_input_all",required:!0})]})})]})]}),e.jsxs("div",{className:"box_crm_tr margin_box_tr",children:[e.jsx("p",{className:"title_common_semi",children:"DNIS"}),e.jsx("div",{className:"mt-2 flex_all form_box_auth",children:e.jsx("div",{className:"width_control_in50 box_sp",children:e.jsxs("div",{className:"box_crm_input",children:[e.jsx("label",{htmlFor:"",children:"Dnis "}),e.jsx("input",{name:"dnis",placeholder:"Enter Dnis ",value:a.dnis,onChange:n,className:"form-control box_crm_input_all",required:!0})]})})})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("button",{type:"button",className:"create_bid",onClick:ce,children:"Send Auth"})}),H&&e.jsx("div",{className:"log_all_pop",children:e.jsxs("div",{className:"log_pop_semi",children:[e.jsxs("p",{className:"log_header flex_props justify-content-between",children:["Add Remarks"," ",e.jsx("button",{className:"log_close",onClick:()=>ue(),children:e.jsx("img",{src:"/imgs/close-icon.png"})})]}),e.jsx("div",{className:"box_crm_input",children:e.jsx("textarea",{className:"form-control box_crm_input_all",rows:4,value:N,onChange:s=>P(s.target.value),placeholder:"Enter remarks here...",required:!0})}),e.jsx("div",{className:"d-flex justify-content-end mt-3",children:e.jsx("button",{type:"button",className:"create_bid",onClick:me,disabled:!N.trim(),children:"Confirm & Submit"})})]})})]})]}):null})})})})]})})};export{Ae as default};
