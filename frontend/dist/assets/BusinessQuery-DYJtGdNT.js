import{r as l,j as s,b as x}from"./index-DDoEHnfR.js";import{L as o}from"./Layout-Co7qzEc2.js";import{S as j}from"./SideBar-DCoEgSRU.js";const b=()=>{const[a,h]=l.useState([]),[e,d]=l.useState(!1),[u,t]=l.useState(!1),c=async()=>{var r;try{d(!0);const n=await x.get("/api/v1/business/get-business-query");n.data.success&&(console.log(n.data),h((r=n==null?void 0:n.data)==null?void 0:r.businessQuery),d(!1))}catch{d(!1),t("Something went wrong while fetching flight data.")}};return l.useEffect(()=>{c()},[]),s.jsx(o,{children:s.jsxs("div",{className:"d-flex",children:[s.jsx(j,{flightData:a}),s.jsxs("div",{className:"flex-grow-1 p-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h4",{className:"m-0",children:"Flight Query Data List"}),s.jsx("button",{className:"btn btn-primary",onClick:c,disabled:e,children:e?"Reloading...":"Reload"})]}),s.jsxs("table",{className:"table table-striped table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Sr. No"}),s.jsx("th",{children:"Source"}),s.jsx("th",{children:"Destination"}),s.jsx("th",{children:"Date"}),s.jsx("th",{children:"Return Date"}),s.jsx("th",{children:"Trip Type"}),s.jsx("th",{children:"Adults"}),s.jsx("th",{children:"Children"}),s.jsx("th",{children:"Infants"}),s.jsx("th",{children:"Total Passengers"}),s.jsx("th",{children:"Class Type"}),s.jsx("th",{children:"User Name"}),s.jsx("th",{children:"User Email"}),s.jsx("th",{children:"User Phone"}),s.jsx("th",{children:"Created At"})]})}),s.jsxs("tbody",{children:[a==null?void 0:a.map((r,n)=>s.jsxs("tr",{children:[s.jsx("td",{children:n+1}),s.jsx("td",{children:r==null?void 0:r.source}),s.jsx("td",{children:r==null?void 0:r.destination}),s.jsx("td",{children:new Date(r==null?void 0:r.date).toLocaleDateString()}),s.jsx("td",{children:new Date(r==null?void 0:r.rtnDate).toLocaleDateString()}),s.jsx("td",{children:r==null?void 0:r.trpType}),s.jsx("td",{children:r==null?void 0:r.adults}),s.jsx("td",{children:r==null?void 0:r.children}),s.jsx("td",{children:r==null?void 0:r.infants}),s.jsx("td",{children:r==null?void 0:r.tpassenger}),s.jsx("td",{children:r==null?void 0:r.classType}),s.jsx("td",{children:r==null?void 0:r.userName}),s.jsx("td",{children:r==null?void 0:r.userMail}),s.jsx("td",{children:r==null?void 0:r.userNumber}),s.jsx("td",{children:new Date(r==null?void 0:r.createdAt).toLocaleDateString()})]},n)),e?s.jsx("tr",{children:s.jsx("td",{colSpan:15,className:"text-center",children:"Loading..."})}):(a==null?void 0:a.length)===0?s.jsx("tr",{children:s.jsx("td",{colSpan:15,className:"text-center",children:"No Flight Data Found"})}):null]})]})]})]})})};export{b as default};
