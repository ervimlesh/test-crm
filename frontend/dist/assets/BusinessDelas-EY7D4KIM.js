import{n as f,r as l,j as s,b}from"./index-DDoEHnfR.js";import{S as D}from"./SideBar-DCoEgSRU.js";import{L as N}from"./Layout-Co7qzEc2.js";import{P as S}from"./PopFlightDeals-PxfNBhfF.js";import"./jspdf.es.min-CSfEVfgj.js";const v=()=>{const{fetchFlightDeals:x}=f(),[n,j]=l.useState([]),[r,i]=l.useState(!1),[u,c]=l.useState(null),[o,a]=l.useState(!1),[d,h]=l.useState(!1),m=()=>{i(!1),c(null)};return l.useEffect(()=>{(async()=>{try{a(!0);const t=await b.get("/api/v1/business/get-business-deals");console.log(t),t.data.success?(j(t.data.businessDeals),a(!1)):(a(!1),h("Something went wrong while fetching business deals."))}catch(t){console.error("Error fetching business deals:",t),a(!1),h("Something went wrong while fetching business deals.")}})()},[]),s.jsxs(N,{children:[s.jsxs("div",{className:"d-flex",children:[s.jsx(D,{}),s.jsxs("div",{className:"flex-grow-1 p-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsx("h4",{className:"m-0",children:"Business Deals"}),s.jsxs("button",{className:"btn btn-primary",children:[" ",o?"Reloading":"Reload"," "]})]}),s.jsxs("table",{className:"table table-striped table-bordered",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Sr. No"}),s.jsx("th",{children:"UserName"}),s.jsx("th",{children:"Mail"}),s.jsx("th",{children:"Phone"}),s.jsx("th",{children:"Action"}),s.jsx("th",{children:" Status "})]})}),s.jsx("tbody",{children:o?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center",children:"Loading..."})}):d?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center",children:d})}):n.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"text-center",children:"No Cars Found"})}):n.map((e,t)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center",children:t+1}),s.jsx("td",{children:e==null?void 0:e.firstName}),s.jsx("td",{children:e==null?void 0:e.email}),s.jsx("td",{children:e==null?void 0:e.mobile}),s.jsx("td",{children:s.jsx("button",{className:"btn btn-primary btn-sm text-nowrap",onClick:()=>{c(e),i(!0)},children:"View Details"})}),s.jsx("td",{children:s.jsx("span",{className:`${(e==null?void 0:e.status)==="approved"?"text-success":(e==null?void 0:e.status)==="rejected"?"text-danger":"text-primary"}`,children:e==null?void 0:e.status})})]},t))})]})]})]}),r&&s.jsx(S,{flightDealsPop:r,deals:u,onClose:m,fetchFlightDeals:x})]})};export{v as default};
