import{r,j as e,b as j}from"./index-DDoEHnfR.js";import{L as m}from"./Layout-Co7qzEc2.js";import{S as u}from"./SideBar-DCoEgSRU.js";const y=()=>{const[n,h]=r.useState([]),[c,a]=r.useState(!1),[l,d]=r.useState(!1),i=async()=>{var s;try{a(!0);const t=await j.get("/api/v1/package/get-cars-query");t.data.success?(h((s=t==null?void 0:t.data)==null?void 0:s.packageQuery),a(!1)):(d(t.data.message),a(!1))}catch(t){console.error("Error fetching package queries:",t),a(!1),d("Something went wrong while fetching package queries.")}};return r.useEffect(()=>{i()},[]),e.jsx(m,{children:e.jsxs("div",{className:"d-flex",children:[e.jsx(u,{}),e.jsxs("div",{className:"flex-grow-1 p-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h4",{className:"m-0",children:"Cars Query List"}),e.jsx("button",{className:"btn btn-primary",onClick:i,disabled:c,children:c?"Reloading...":"Reload"})]}),e.jsxs("table",{className:"table table-striped table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr. No"}),e.jsx("th",{children:"UserName"}),e.jsx("th",{children:"Mail"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Created At"})]})}),e.jsx("tbody",{children:c?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center",children:"Loading..."})}):l?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center",children:l})}):n.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center",children:"No Cars Found"})}):n.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center",children:t+1}),e.jsx("td",{children:s==null?void 0:s.userName}),e.jsx("td",{children:s==null?void 0:s.email}),e.jsx("td",{children:s==null?void 0:s.phone}),e.jsx("td",{children:s!=null&&s.createdAt?new Intl.DateTimeFormat("en-US",{day:"numeric",month:"long"}).format(new Date(s==null?void 0:s.createdAt)).replace(/\d+/,o=>{const x=["th","st","nd","rd"][o%10-1]||"th";return`${o}${x}`}):""})]},t))})]})]})]})})};export{y as default};
