import{f as j,h as b,r as x,j as e}from"./index-DDoEHnfR.js";import{L as g}from"./Layout-Co7qzEc2.js";import{S as f}from"./SideBar-DCoEgSRU.js";const N=()=>{const{ctmFlightDeals:t}=j(),{role:n}=b(),a=new Date,o=x.useMemo(()=>(t==null?void 0:t.filter(s=>{var c,i,h;if(!((c=s==null?void 0:s.outboundSegments)!=null&&c.length))return!1;const l=s.createdAt,d=new Date(l),u=d.getDate()===a.getDate()&&d.getMonth()===a.getMonth()&&d.getFullYear()===a.getFullYear(),m=n?((h=(i=s==null?void 0:s.agent)==null?void 0:i.role)==null?void 0:h.toLowerCase())===n.toLowerCase():!0;return u&&m}))||[],[t,a]),r=x.useMemo(()=>o.reduce((s,l)=>(s.baseFare+=Number(l.baseFare||0),s.taxes+=Number(l.taxes||0),s),{baseFare:0,taxes:0}),[o]);return e.jsx(g,{children:e.jsxs("main",{class:"crm_all_body d-flex",children:[e.jsx(f,{}),e.jsxs("div",{className:"crm_right relative",children:[e.jsx("div",{className:"header_crm flex_props justify-content-between",children:e.jsx("p",{className:"crm_title",children:"Today's Revenue"})}),e.jsx("div",{className:"bid_table",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Total Approved Bookings"}),e.jsx("th",{children:"Total Base Fares"}),e.jsx("th",{children:"Total Taxes & Fees"}),e.jsx("th",{children:"Grand Total"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:o.length}),e.jsxs("td",{children:["$",r.baseFare]}),e.jsxs("td",{children:["$",r.taxes]}),e.jsxs("td",{children:["$",r.baseFare+r.taxes]})]})})]})})})]})]})})};export{N as default};
